# Logging

## Motivation

Logging is a core requirement of a production system. Different clients may require different capabilities with regards to logging. As such the solution in VSF should be flexible to allow many different approaches - such as json file based logs, plain text written to stdout/error, or many other possibilities.

One way to do this is to include an optional logger as part of the setup…

```TS
export interface SetupConfig<TCacheShape> {
    ⋮ 
    logger?: Logger;
}

export type Logger = {
  debug(message?: any): void;
  info(message?: any): void;
  warn(message?: any): void;
  error(message?: any): void;
}
```

This logger can be satisfied using winston - or some other logging library to provide complex logging capabilities. However if not provided a simple default of console will suffice.

```TS
logger = setupConfig.logger || console;
```

Once this is implemented all instances of console should be replaced with the logger.

## Prior Art

This approach is used by many other packages for example [apollo-server](https://www.apollographql.com/docs/apollo-server/api/apollo-server/).